# kong 인증에 관해

> Kong API Gateway는 OAuth 2.0, JWT, Basic Auth, Key Authentication 등 다양한 인증 방식을 지원합니다.
클라이언트가 API 요청을 보낼 때, Kong이 인증 절차를 수행하는 과정을 __JWT__ 토큰 기반 인증을 예제

## 1. 시스템 구성도
```plaintext

1. 인증요청
+-----------+        +-----------------+        +-----------------+
|  Client   | -----> |      Kong       | -----> |    Auth Server  |
+-----------+        +-----------------+        +-----------------+
                 |                        |              |
                 v                        v              v
            사용자 요청            인증 정보 요청      access_token 발급
          (ID/PWD 로그인)

2. 이후 API 호출 >  JWT 플러그인에서 인증수행 > 인증 성공이면 kong에서 Backend Service 호출
                     +--------------------------------------------+
+-----------+        |                          +-----------------+        +-------------------+
|  Client   | -----> |      Kong  ------------> |    JWT 플러그인  | -----> |  Backend Service  |
+-----------+        |                          +-----------------+        +-------------------+
                     +--------------------------------------------+
                 |                                        |
                 v                                        v
            발급받은 access_token 적용            1. JWT 토큰 Base64 디코딩 2. 서명검증
          "Authorization" 헤더에 포             3. 유효기간(exp)검증 4.발급자(lss) 검증 5.Audience(aud) 검증

3. Backend Service 결과값을 kong을 거처 Client로 반환
```
